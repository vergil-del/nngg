export default {
  name: "Ø·Ø±Ø¯",
  aliases: ["kick", "ban"],
  description: "Ø·Ø±Ø¯ Ø¹Ø¶Ùˆ Ù…Ù† Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© (Ù„Ù„Ù…Ø´Ø±ÙÙŠÙ† ÙÙ‚Ø·)",
  usage: "[Ø±Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø¶Ùˆ Ø£Ùˆ Ù…Ù†Ø´Ù†Ù‡]",
  cooldown: 3,
  permission: 0,
  category: "group",

  async execute({ api, event }) {
    const threadID = event.threadID;
    const senderID = event.senderID;
    const messageID = event.messageID;
    const mentions = event.mentions;
    const messageReply = event.messageReply;

    const threadInfo = await api.getThreadInfo(threadID);
    const adminIDs = threadInfo.adminIDs.map(admin => admin.id);

    if (!adminIDs.includes(senderID)) {
      return api.sendMessage("âŒ Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø± Ù…Ø®ØµØµ Ù„Ù„Ù…Ø´Ø±ÙÙŠÙ† ÙÙ‚Ø·.", threadID, messageID);
    }

    let targetID;

    if (Object.keys(mentions).length > 0) {
      targetID = Object.keys(mentions)[0];
    } else if (messageReply) {
      targetID = messageReply.senderID;
    } else {
      return api.sendMessage("ğŸ“Œ Ù…Ù† ÙØ¶Ù„Ùƒ Ù‚Ù… Ø¨Ø§Ù„Ø±Ø¯ Ø¹Ù„Ù‰ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø´Ø®Øµ Ø£Ùˆ Ù…Ù†Ø´Ù†Ù‡ Ù„Ù„Ø·Ø±Ø¯.", threadID, messageID);
    }

    if (adminIDs.includes(targetID)) {
      return api.sendMessage("âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø·Ø±Ø¯ Ù…Ø´Ø±Ù Ø¢Ø®Ø±.", threadID, messageID);
    }

    try {
      await api.removeUserFromGroup(targetID, threadID);
      return api.sendMessage("âœ… ØªÙ… Ø·Ø±Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©.", threadID, messageID);
    } catch (err) {
      return api.sendMessage("âŒ ÙØ´Ù„ ÙÙŠ ØªÙ†ÙÙŠØ° Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø·Ø±Ø¯. ØªØ£ÙƒØ¯ Ø£Ù† Ø§Ù„Ø¨ÙˆØª Ù„Ø¯ÙŠÙ‡ ØµÙ„Ø§Ø­ÙŠØ§Øª Ù…Ø´Ø±Ù.", threadID, messageID);
    }
  }
};